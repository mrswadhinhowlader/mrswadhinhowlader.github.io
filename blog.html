<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-QKKMJTX6YB"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-QKKMJTX6YB');
  </script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Blog | Swadhin Digital Hub</title>
  <meta name="description" content="Vlogs + guides on n8n automation, Messenger & WhatsApp automation, Telegram bots, Webhooks, API integrations, and growth systems.">
  <link rel="stylesheet" href="style.css" />

  <style>
    /* =========================
       GAP FIX (Top/Bottom) + Modern Blog Feel
       ========================= */
    body.blog-page .hero{
      min-height: 56vh !important;          /* ‡¶Ü‡¶ó‡ßá‡¶∞ ‡¶§‡ßÅ‡¶≤‡¶®‡¶æ‡ßü ‡¶ï‡¶Æ */
      padding-bottom: 14px !important;      /* gap ‡¶ï‡¶Æ */
    }
    body.blog-page .hero-content{
      padding-top: 92px !important;         /* content ‡¶â‡¶™‡¶∞‡ßá ‡¶â‡¶†‡¶¨‡ßá */
      padding-bottom: 18px !important;
      align-items: flex-start !important;
    }
    body.blog-page .hero-left{ margin-top: 0 !important; }

    .blog-wrap{ padding:38px 7% 70px; }     /* main top padding ‡¶ï‡¶Æ */
    .blog-shell{ max-width:1200px; margin:0 auto; margin-top:-12px; }

    /* =========================
       Page styles
       ========================= */
    .blog-hero{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:18px;
      align-items:stretch;
      margin-bottom:14px;
    }
    .blog-hero .card{ margin-bottom:0; }

    .blog-title{ font-size:40px; letter-spacing:.3px; margin-bottom:8px; }
    .blog-sub{ opacity:.9; line-height:1.75; }

    .tools{ display:flex; flex-wrap:wrap; gap:10px; margin-top:14px; }
    .tool-chip{
      background:rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.16);
      padding:8px 12px;
      border-radius:999px;
      font-size:13px;
      opacity:.95;
    }

    /* Featured block */
    .featured{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:18px;
      align-items:stretch;
      margin: 14px 0 16px;
    }
    .featured-cover{
      width:100%;
      height:100%;
      min-height:240px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.14);
      object-fit:cover;
      box-shadow:0 18px 50px rgba(0,0,0,.35);
    }

    .post-meta{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin:10px 0 12px;
      font-size:13px;
      opacity:.92;
    }
    .meta-chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:8px 12px;
      border-radius:999px;
      background:rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.16);
    }

    /* Modern sticky filter bar */
    .filterbar{
      position: sticky;
      top: 12px;
      z-index: 30;
      margin: 10px 0 16px;
      padding: 12px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.38);
      backdrop-filter: blur(10px);
      box-shadow: 0 14px 40px rgba(0,0,0,.22);
    }
    .filterbar-row{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:space-between;
    }
    .search{
      flex:1;
      min-width:240px;
      display:flex;
      gap:10px;
      padding:12px 14px;
      border-radius:14px;
      background:rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.14);
    }
    .search input{
      width:100%;
      background:transparent;
      border:none;
      outline:none;
      color:#fff;
      font-size:14px;
    }
    .select{
      min-width:200px;
      padding:12px 14px;
      border-radius:14px;
      background:rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.14);
      color:#fff;
      outline:none;
    }

    .chips{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top:10px;
    }
    .chip-btn{
      cursor:pointer;
      user-select:none;
      padding:8px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(255,255,255,.08);
      color:#fff;
      font-size:13px;
      opacity:.92;
      transition: transform .15s ease, border-color .15s ease, opacity .15s ease;
    }
    .chip-btn:hover{ transform: translateY(-1px); border-color: rgba(255,152,0,.35); opacity: 1; }
    .chip-btn.active{
      opacity: 1;
      border-color: rgba(255,152,0,.65);
      box-shadow: 0 10px 28px rgba(255,152,0,.10);
    }

    /* Posts grid */
    .blog-grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
      gap:16px;
    }
    .post-card{
      overflow:hidden;
      display:flex;
      flex-direction:column;
      transition: transform .18s ease;
    }
    .post-card:hover{ transform: translateY(-2px); }
    .post-card img{
      width:100%;
      height:180px;
      object-fit:cover;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      box-shadow:0 14px 40px rgba(0,0,0,.28);
      margin-bottom:14px;
    }
    .post-card h3{ margin-bottom:8px; font-size:18px; line-height:1.35; }
    .post-card p{ opacity:.92; line-height:1.75; margin-bottom:14px; }

    .read-more{
      margin-top:auto;
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
    }
    .small{ opacity:.82; font-size:13px; }

    .mini-btn{
      display:inline-block;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(0,0,0,.35);
      color:#fff;
      text-decoration:none;
      transition: transform .2s ease, border-color .2s ease;
      white-space:nowrap;
    }
    .mini-btn:hover{ transform: translateY(-1px); border-color: rgba(255,152,0,.45); }

    .nav-bottom a.active{
      opacity:1;
      text-decoration:underline;
      text-decoration-color: rgba(255,152,0,.9);
      text-underline-offset: 6px;
    }

    /* skeleton for loading posts */
    .skeleton{
      border-radius:18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      min-height:260px;
      overflow:hidden;
      position:relative;
    }
    .skeleton:before{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.10), transparent);
      transform: translateX(-100%);
      animation: shimmer 1.1s infinite;
    }
    @keyframes shimmer{
      100%{ transform: translateX(100%); }
    }

    /* load more button */
    .loadmore-wrap{
      display:flex;
      justify-content:center;
      margin-top:16px;
    }

    @media(max-width: 980px){
      body.blog-page .hero{ min-height: 52vh !important; }
      body.blog-page .hero-content{ padding-top: 84px !important; }
      .blog-hero{ grid-template-columns: 1fr; }
      .featured{ grid-template-columns: 1fr; }
      .blog-title{ font-size:34px; }
      .blog-shell{ margin-top:-8px; }
      .filterbar{ top: 10px; }
    }
  </style>
</head>

<body class="blog-page">
<header class="hero" id="top">
  <div class="overlay"></div>

  <nav class="nav nav-center">
    <div class="nav-top">
      <a href="index.html" aria-label="Home"><img src="logo.png" class="logo" alt="Swadhin Digital Hub Logo"></a>
      <div class="nav-title">Swadhin Digital Hub</div>
      <a href="index.html" aria-label="Home"><img src="logo.png" class="logo logo-red" alt="Swadhin Digital Hub Logo Red"></a>
    </div>

    <div class="nav-bottom">
      <a href="index.html#about">About</a>
      <a href="index.html#services">Services</a>
      <a href="index.html#projects">Projects</a>
      <a class="active" href="blog.html">Blog</a>
      <a href="index.html#contact">Contact</a>
    </div>
  </nav>

  <div class="hero-content">
    <div class="hero-left">
      <h1 class="brand-title" style="font-size:48px;">Blog + Vlogs</h1>

      <p class="subtitle" style="max-width:860px;">
        Practical content on <strong>n8n automation</strong>, Messenger/WhatsApp systems, Telegram alerts,
        Webhooks, API integrations, and growth workflows‚Äîwritten like real execution notes.
      </p>

      <div class="tools" aria-label="Topics">
        <span class="tool-chip">n8n</span>
        <span class="tool-chip">Messenger Automation</span>
        <span class="tool-chip">WhatsApp Business</span>
        <span class="tool-chip">Telegram Bot</span>
        <span class="tool-chip">Webhooks</span>
        <span class="tool-chip">API Integrations</span>
        <span class="tool-chip">Google Sheets / CRM</span>
      </div>

      <div class="hero-actions">
        <a class="cta" href="#latest">Latest Posts</a>
        <a class="cta ghost" href="index.html#contact">Work With Me</a>
      </div>
    </div>
  </div>
</header>

<main class="wrap blog-wrap">
  <div class="blog-shell">

    <section class="blog-hero">
      <div class="card">
        <h2 style="font-size:28px; margin-bottom:10px;">What you‚Äôll find here</h2>
        <p class="blog-sub">
          Real workflows, real structure. Each post is designed to help you understand the logic behind automation:
          how we capture leads, reply instantly, sync data, and keep admin control‚Äîwithout messy manual work.
        </p>

        <div class="divider" style="height:1px; background:linear-gradient(90deg,transparent,rgba(255,255,255,.20),transparent); margin:14px 0;"></div>

        <div class="buttons">
          <a class="btn" href="index.html#projects">See Projects</a>
          <a class="btn" href="index.html#services">View Services</a>
          <a class="btn" href="index.html#contact">Contact</a>
        </div>
      </div>

      <div class="card">
        <h2 style="font-size:28px; margin-bottom:10px;">Post request?</h2>
        <p class="blog-sub">
          Want a tutorial on your exact workflow? Send your problem + screenshots‚ÄîWe‚Äôll publish a clean solution post.
        </p>
        <div class="post-cta" style="margin-top:14px; display:flex; gap:12px; flex-wrap:wrap;">
          <a class="cta" href="index.html#contact">Request a Post</a>
          <a class="cta ghost" href="index.html#contact">Book Setup</a>
        </div>
      </div>
    </section>

    <!-- Featured (Static fallback ‚Äî always visible) -->
    <section class="featured" id="latest" aria-label="Featured post">
      <img class="featured-cover" src="posts/images/first-vlog-cover.png" alt="Featured vlog cover">
      <div class="card" style="margin-bottom:0;">
        <h2 class="blog-title">How We Build Messenger Automation in n8n</h2>

        <div class="post-meta">
          <span class="meta-chip">üìÖ Dec 18, 2025</span>
          <span class="meta-chip">üí¨ Messenger Automation</span>
          <span class="meta-chip">‚öôÔ∏è n8n Workflow</span>
        </div>

        <p class="blog-sub">
          A practical vlog-style breakdown of a real Messenger Automation system:
          lead capture, instant replies, admin alerts, handover routing, and clean data sync‚Äîend to end.
        </p>

        <div class="read-more" style="margin-top:14px;">
          <span class="small">5‚Äì7 min read ‚Ä¢ includes vlog</span>
          <a class="mini-btn" href="posts/first-vlog-post.html">Read / Watch ‚Üí</a>
        </div>
      </div>
    </section>

    <!-- Modern Filter Bar -->
    <section class="filterbar" aria-label="Search and filters">
      <div class="filterbar-row">
        <div class="search" title="Search posts">
          üîç <input id="searchInput" type="text" placeholder="Search posts (example: webhook, messenger, whatsapp, telegram)..." />
        </div>

        <select id="sortSelect" class="select" title="Sort posts">
          <option value="latest">Sort: Latest</option>
          <option value="oldest">Sort: Oldest</option>
          <option value="az">Sort: A ‚Üí Z</option>
        </select>
      </div>

      <div class="chips" id="categoryChips" aria-label="Category chips">
        <!-- chips will be injected -->
      </div>
    </section>

    <!-- Dynamic posts grid -->
    <section class="blog-grid" id="postsGrid" aria-label="Latest posts"></section>

    <div class="loadmore-wrap" id="loadMoreWrap" style="display:none;">
      <a class="mini-btn" href="javascript:void(0)" id="loadMoreBtn">Load More ‚Üí</a>
    </div>

    <div style="height:16px;"></div>

    <section class="card" aria-label="Back and CTA">
      <div class="read-more">
        <span class="small">Want your automation published as a case study?</span>
        <div style="display:flex; gap:12px; flex-wrap:wrap;">
          <a class="mini-btn" href="index.html#contact">Work With Me</a>
          <a class="mini-btn" href="index.html">Home ‚Üí</a>
        </div>
      </div>
    </section>

  </div>
</main>

<footer class="footer">
  ¬© 2025 Swadhin Digital Hub ‚Ä¢ Blog
</footer>

<script>
(() => {
  const grid = document.getElementById("postsGrid");
  const chipsWrap = document.getElementById("categoryChips");
  const searchInput = document.getElementById("searchInput");
  const sortSelect  = document.getElementById("sortSelect");
  const loadMoreWrap = document.getElementById("loadMoreWrap");
  const loadMoreBtn  = document.getElementById("loadMoreBtn");

  if (!grid || !chipsWrap) return;

  const PAGE_SIZE = 9;
  let allPosts = [];
  let filtered = [];
  let visibleCount = PAGE_SIZE;
  let activeCategory = "All";

  function safeText(v){ return (v || "").toString(); }
  function normalizeUrl(path){
    try { return new URL(path, window.location.href).toString(); }
    catch(e){ return path; }
  }
  function parseDateMaybe(v){
    const d = new Date(v);
    return isNaN(d.getTime()) ? null : d;
  }

  function buildChips(categories){
    chipsWrap.innerHTML = "";

    const makeChip = (name, active=false) => {
      const btn = document.createElement("button");
      btn.className = "chip-btn" + (active ? " active" : "");
      btn.type = "button";
      btn.textContent = name;
      btn.addEventListener("click", () => {
        activeCategory = name;
        [...chipsWrap.querySelectorAll(".chip-btn")].forEach(x => x.classList.remove("active"));
        btn.classList.add("active");
        visibleCount = PAGE_SIZE;
        applyFilters();
      });
      chipsWrap.appendChild(btn);
    };

    makeChip("All", true);
    categories.forEach(c => makeChip(c, false));
  }

  function sortPosts(list){
    const mode = sortSelect ? sortSelect.value : "latest";
    const copy = [...list];

    if(mode === "az"){
      copy.sort((a,b) => safeText(a.title).localeCompare(safeText(b.title)));
      return copy;
    }

    const dir = (mode === "oldest") ? 1 : -1;
    copy.sort((a,b) => {
      const da = parseDateMaybe(a.date);
      const db = parseDateMaybe(b.date);
      if(!da && !db) return 0;
      if(!da) return 1;
      if(!db) return -1;
      return (da - db) * dir;
    });
    return copy;
  }

  function matchesSearch(p, q){
    if(!q) return true;
    const text = (
      safeText(p.title) + " " +
      safeText(p.excerpt) + " " +
      safeText(p.category) + " " +
      (Array.isArray(p.tags) ? p.tags.join(" ") : "")
    ).toLowerCase();
    return text.includes(q.toLowerCase());
  }

  function applyFilters(){
    const q = safeText(searchInput ? searchInput.value : "").trim();
    const byCategory = (p) => activeCategory === "All" ? true : safeText(p.category) === activeCategory;

    filtered = allPosts
      .filter(byCategory)
      .filter(p => matchesSearch(p, q));

    filtered = sortPosts(filtered);
    render();
  }

  function render(){
    const slice = filtered.slice(0, visibleCount);

    if(filtered.length === 0){
      grid.innerHTML = `
        <section class="card" style="grid-column:1/-1;">
          <h3 style="margin-bottom:8px;">No posts found</h3>
          <p class="blog-sub">Try a different keyword or switch category.</p>
        </section>
      `;
      loadMoreWrap.style.display = "none";
      return;
    }

    grid.innerHTML = slice.map(p => {
      const cover = normalizeUrl(p.cover || "og-image.png");
      const url   = p.url ? normalizeUrl(p.url) : "#";
      const title = safeText(p.title);
      const excerpt = safeText(p.excerpt);
      const cat   = safeText(p.category || "Post");
      const date  = safeText(p.date || "");

      const tags = Array.isArray(p.tags) ? p.tags.slice(0,2).join(" ‚Ä¢ ") : "";

      return `
        <article class="card post-card">
          <img src="${cover}" alt="${title}">
          <div class="post-meta">
            <span class="meta-chip">üìÖ ${date}</span>
            <span class="meta-chip">${cat}</span>
          </div>
          <h3>${title}</h3>
          <p>${excerpt}</p>
          <div class="read-more">
            <span class="small">${tags}</span>
            <a class="mini-btn" href="${url}">Open ‚Üí</a>
          </div>
        </article>
      `;
    }).join("");

    if(filtered.length > visibleCount){
      loadMoreWrap.style.display = "flex";
    }else{
      loadMoreWrap.style.display = "none";
    }
  }

  async function init(){
    // skeleton placeholders
    grid.innerHTML = Array.from({length:6}).map(()=>`<article class="card skeleton"></article>`).join("");

    try{
      // IMPORTANT: ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ repo structure ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ posts/posts.json ‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá
      const url = new URL("posts/posts.json", window.location.href).toString();
      const res = await fetch(url, { cache: "no-store" });
      if(!res.ok) throw new Error("HTTP " + res.status);

      const data = await res.json();
      if(!Array.isArray(data)) throw new Error("posts.json must be an array");

      allPosts = data.map(p => ({
        title: p.title || "",
        excerpt: p.excerpt || "",
        category: p.category || "Post",
        tags: Array.isArray(p.tags) ? p.tags : [],
        date: p.date || "",
        url: p.url || "",
        cover: p.cover || "og-image.png"
      }));

      // Build category chips
      const categories = [...new Set(allPosts.map(p => safeText(p.category)).filter(Boolean))];
      buildChips(categories);

      // initial filter
      filtered = sortPosts(allPosts);
      visibleCount = PAGE_SIZE;
      render();

    }catch(e){
      // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡¶æ‡¶Æ‡¶®‡ßá error message ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá ‡¶®‡¶æ ‚Äî ‡¶∂‡ßÅ‡¶ß‡ßÅ console ‡¶è
      console.error("Posts load failed:", e);

      // fallback: empty grid (Featured section already exists above)
      grid.innerHTML = "";
      loadMoreWrap.style.display = "none";
    }
  }

  // events
  if(searchInput){
    searchInput.addEventListener("input", () => {
      visibleCount = PAGE_SIZE;
      applyFilters();
    });
  }
  if(sortSelect){
    sortSelect.addEventListener("change", () => {
      visibleCount = PAGE_SIZE;
      applyFilters();
    });
  }
  if(loadMoreBtn){
    loadMoreBtn.addEventListener("click", () => {
      visibleCount += PAGE_SIZE;
      render();
    });
  }

  init();
})();
</script>
</body>
</html>
